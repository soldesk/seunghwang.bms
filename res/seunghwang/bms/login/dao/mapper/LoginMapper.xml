<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="seunghwang.bms.login.dao.mapper.LoginMapper">

<resultMap id="userMap" type="user">
	<id property="userId" column="user_id" />
	<result property="userPw" column="user_pw"/>
	<result property="userName" column="user_name" />
	<result property="userPhone" column="user_phone" />
	<result property="userPost" column="user_post" />
	<result property="userAddress" column="user_address" />
	<result property="userEmail" column="user_email" />
	<result property="regDate" column="reg_date" />
	<result property="userState" column="user_state" />
</resultMap>

    <select id="getUser" parameterType="string" resultMap="userMap">
        select *
        from users 
        where user_id=#{userId}
    </select>
	
	<select id="getFindId" parameterType="string" resultType="string">
		select user_id
		from users
		where user_email=#{userEmail}
	</select>
	
	
	<insert id="signUp" parameterType="user" >
		insert into users
		values(#{userId},#{userPw},#{userName},#{userAddress},#{userPost},#{userEmail},
		#{userPhone},sysdate,#{userState})
	</insert>
	
	<update id="modify" parameterType="user">
		update users 
		set user_email = #{userEmail}, user_address= #{userAddress}, user_post = #{userPost}
		where user_id = #{userId}
	</update>
	
	<update id="pwModify" parameterType="user">
		update users 
		set user_pw = #{userPw}
		where user_id = #{userId}
	</update>
	
	<update id="userStateChange" parameterType="user">
		update users 
		set user_state = #{userState}
		where user_id = #{userId}
	</update>
	
</mapper>
 
 